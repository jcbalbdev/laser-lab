---
import logoLasser from "/src/assets/logo-lasser.png";
import logoJallavet from "/src/assets/logo-jallavet.png";
---

<header>
  <!-- TOP SECTION -->
  <div class="top">
    <div class="logos">
      <img
        src="/lasser_logo_blanco_transparente.svg"
        alt="Lasser"
        class="logo-lasser"
      />
      <img
        src="/jallavet_blanco_transparente.svg"
        alt="Jallavet"
        class="logo-jallavet"
      />
    </div>

    <!-- Hamburger Menu Button (Mobile Only) -->
    <button class="hamburger-btn" id="hamburgerBtn" aria-label="Menu">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <!-- Social Icons (Desktop Only) -->
    <div class="social desktop-only">
      <!-- Facebook -->
      <a
        href="https://www.facebook.com/lasser.medveterinaria/"
        target="_blank"
        rel="noopener noreferrer"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="28"
          height="28"
          viewBox="0 0 24 24"
          fill="currentColor"
        >
          <path
            d="M12 2.04c-5.5 0-10 4.49-10 10.02c0 5 3.66 9.15 8.44 9.9v-7H7.9v-2.9h2.54V9.85c0-2.51 1.49-3.89 3.78-3.89c1.09 0 2.23.19 2.23.19v2.47h-1.26c-1.24 0-1.63.77-1.63 1.56v1.88h2.78l-.45 2.9h-2.33v7a10 10 0 0 0 8.44-9.9c0-5.53-4.5-10.02-10-10.02z"
          ></path>
        </svg>
      </a>
      <!-- Instagram -->
      <a
        href="https://www.instagram.com/labveterinarioslasser"
        target="_blank"
        rel="noopener noreferrer"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="28"
          height="28"
          viewBox="0 0 24 24"
          fill="currentColor"
        >
          <path
            d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 3.8 7.6v8.8A3.6 3.6 0 0 0 7.6 20h8.8a3.6 3.6 0 0 0 3.8-3.8V7.6A3.6 3.6 0 0 0 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8A1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5a5 5 0 0 1-5 5a5 5 0 0 1-5-5a5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3a3 3 0 0 0 3 3a3 3 0 0 0 3-3a3 3 0 0 0-3-3z"
          ></path>
        </svg>
      </a>
      <!-- LinkedIn -->
      <a
        href="https://www.linkedin.com/company/laboratorios-lasser/"
        target="_blank"
        rel="noopener noreferrer"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="28"
          height="28"
          viewBox="0 0 24 24"
          fill="currentColor"
        >
          <path
            d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-1.41 0-2.43.98-2.83 1.83V10.15h-3.2v8.35h3.2v-4.66a2.08 2.08 0 0 1 2.08-2.08c1.03 0 1.87.84 1.87 2.08v4.66H18.5M6.5 7.03A1.5 1.5 0 1 1 3.5 7.03A1.5 1.5 0 1 1 6.5 7.03M4.9 18.5h3.2v-8.35H4.9v8.35z"
          ></path>
        </svg>
      </a>
    </div>
  </div>

  <!-- NAVIGATION (Desktop) -->
  <nav class="desktop-nav">
    <a href="/">INICIO</a>
    <a href="/nosotros">NOSOTROS</a>

    <!-- SERVICIOS -->
    <div class="dropdown">
      <a href="/servicios">SERVICIOS</a>
      <div class="dropdown-menu">
        <a href="/servicios">AVES</a>
        <a href="/servicios">PORCINOS</a>
        <a href="/servicios">OTROS</a>
      </div>
    </div>

    <!-- PUBLICACIONES -->
    <div class="dropdown">
      <span>PUBLICACIONES</span>
      <div class="dropdown-menu">
        <a href="/noticias">NOTICIAS</a>
        <a href="/publicaciones">ARTÍCULOS ACADÉMICOS</a>
      </div>
    </div>

    <a href="#contacto">CONTACTO</a>
  </nav>

  <!-- Mobile Sidebar Menu -->
  <div class="mobile-overlay" id="mobileOverlay"></div>
  <div class="mobile-menu" id="mobileMenu">
    <div class="mobile-menu-content">
      <a href="/" class="mobile-menu-item">INICIO</a>
      <a href="/nosotros" class="mobile-menu-item">NOSOTROS</a>

      <!-- SERVICIOS (Expandible) -->
      <div class="mobile-menu-item expandable">
        <button class="mobile-menu-btn" data-submenu="servicios">
          SERVICIOS
          <span class="arrow">▼</span>
        </button>
        <div class="mobile-submenu" id="submenu-servicios">
          <a href="/servicios">AVES</a>
          <a href="/servicios">PORCINOS</a>
          <a href="/servicios">OTROS</a>
        </div>
      </div>

      <!-- PUBLICACIONES (Expandible) -->
      <div class="mobile-menu-item expandable">
        <button class="mobile-menu-btn" data-submenu="publicaciones">
          PUBLICACIONES
          <span class="arrow">▼</span>
        </button>
        <div class="mobile-submenu" id="submenu-publicaciones">
          <a href="/noticias">NOTICIAS</a>
          <a href="/publicaciones">ARTÍCULOS ACADÉMICOS</a>
        </div>
      </div>

      <a href="#contacto" class="mobile-menu-item">CONTACTO</a>

      <!-- Social Icons (Mobile) -->
      <div class="mobile-social">
        <a
          href="https://www.facebook.com/lasser.medveterinaria/"
          target="_blank"
          rel="noopener noreferrer"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path
              d="M12 2.04c-5.5 0-10 4.49-10 10.02c0 5 3.66 9.15 8.44 9.9v-7H7.9v-2.9h2.54V9.85c0-2.51 1.49-3.89 3.78-3.89c1.09 0 2.23.19 2.23.19v2.47h-1.26c-1.24 0-1.63.77-1.63 1.56v1.88h2.78l-.45 2.9h-2.33v7a10 10 0 0 0 8.44-9.9c0-5.53-4.5-10.02-10-10.02z"
            ></path>
          </svg>
        </a>
        <a
          href="https://www.instagram.com/labveterinarioslasser"
          target="_blank"
          rel="noopener noreferrer"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path
              d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 3.8 7.6v8.8A3.6 3.6 0 0 0 7.6 20h8.8a3.6 3.6 0 0 0 3.8-3.8V7.6A3.6 3.6 0 0 0 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8A1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5a5 5 0 0 1-5 5a5 5 0 0 1-5-5a5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3a3 3 0 0 0 3 3a3 3 0 0 0 3-3a3 3 0 0 0-3-3z"
            ></path>
          </svg>
        </a>
        <a
          href="https://www.linkedin.com/company/laboratorios-lasser/"
          target="_blank"
          rel="noopener noreferrer"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="28"
            height="28"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path
              d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-1.41 0-2.43.98-2.83 1.83V10.15h-3.2v8.35h3.2v-4.66a2.08 2.08 0 0 1 2.08-2.08c1.03 0 1.87.84 1.87 2.08v4.66H18.5M6.5 7.03A1.5 1.5 0 1 1 3.5 7.03A1.5 1.5 0 1 1 6.5 7.03M4.9 18.5h3.2v-8.35H4.9v8.35z"
            ></path>
          </svg>
        </a>
      </div>
    </div>
  </div>
</header>

<script>
  // Hamburger menu functionality
  const hamburgerBtn = document.getElementById("hamburgerBtn");
  const mobileMenu = document.getElementById("mobileMenu");
  const mobileOverlay = document.getElementById("mobileOverlay");

  // Toggle mobile menu
  function toggleMenu() {
    hamburgerBtn?.classList.toggle("active");
    mobileMenu?.classList.toggle("active");
    mobileOverlay?.classList.toggle("active");
    document.body.style.overflow = mobileMenu?.classList.contains("active")
      ? "hidden"
      : "";
  }

  hamburgerBtn?.addEventListener("click", toggleMenu);
  mobileOverlay?.addEventListener("click", toggleMenu);

  // Expandable submenus
  const submenuBtns = document.querySelectorAll(".mobile-menu-btn");
  submenuBtns.forEach((btn) => {
    btn.addEventListener("click", function () {
      const submenuId = this.getAttribute("data-submenu");
      const submenu = document.getElementById(`submenu-${submenuId}`);
      const arrow = this.querySelector(".arrow");

      submenu?.classList.toggle("active");
      arrow?.classList.toggle("rotate");
    });
  });
</script>
<style>
  header {
    width: 100%;
    background: #008c5e; /* verde oscuro */
    color: white;
    position: relative;
    z-index: 100;
    font-family: sans-serif;
  }

  /* TOP BAR */
  .top {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1px 60px;
  }

  .logos {
    display: flex;
    align-items: center;
    gap: 20px;
  }

  .logos img {
    object-fit: contain;
  }

  .logo-lasser {
    height: 250px;
  }

  .logo-jallavet {
    height: 200px;
  }

  .social {
    display: flex;
    gap: 15px;
    font-size: 28px;
    align-items: center;
  }

  .social a {
    color: white;
    text-decoration: none;
    transition: 0.3s;
    display: flex; /* Fix vertical alignment for SVGs */
  }

  .social a:hover {
    opacity: 0.7;
  }

  /* NAVIGATION */
  nav {
    width: 100%;
    display: flex;
    justify-content: center;
    gap: 40px;
    padding-bottom: 20px;
    font-size: 20px;
    font-weight: bold;
  }

  nav a,
  nav .dropdown {
    position: relative;
    cursor: pointer;
    text-decoration: none;
    color: white;
  }

  /* Hover underline */
  nav a::after,
  .dropdown > span::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -6px;
    width: 100%;
    height: 3px;
    background: white;
    opacity: 0;
    transition: 0.3s;
  }

  nav a:hover::after,
  .dropdown:hover > span::after {
    opacity: 1;
  }

  /* DROPDOWN BASE */
  .dropdown {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .dropdown-menu {
    position: absolute;
    top: 40px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    background: rgba(255, 255, 255, 0.9);
    padding: 20px 40px;
    backdrop-filter: blur(4px);

    /* Animation state: Hidden by default */
    opacity: 0;
    visibility: hidden;

    /* Transition prevents immediate disappearance */
    transition:
      opacity 0.3s ease-in-out,
      visibility 0.3s ease-in-out;
    transition-delay: 0.2s; /* Kept visible for 1.5s after mouse leaves */
  }

  /* Show menu on hover */
  .dropdown:hover .dropdown-menu {
    opacity: 1;
    visibility: visible;
    transition-delay: 0s; /* Appear immediately */
  }

  .dropdown-menu a {
    color: #006844;
    text-decoration: none;
    text-align: center;
    padding: 10px 0;
    font-weight: bold;
    transition: 0.2s ease;
    white-space: nowrap; /* Prevent breaking if names are long */
  }

  .dropdown-menu a:hover {
    color: #008c5e;
    text-decoration: underline;
  }

  /* Disable hover effect for inactive links if needed explicitly, though pointer-events:none handles it interaction-wise */
  .dropdown-menu a[href^="javascript"]:hover {
    text-decoration: none;
    color: #004400;
  }

  /* Fix: Remove the white underline from the main nav for these sub-links */
  .dropdown-menu a::after {
    display: none;
  }

  /* ========== HAMBURGER MENU BUTTON ========== */
  .hamburger-btn {
    display: none; /* Hidden by default, shown on mobile */
    flex-direction: column;
    justify-content: space-between;
    width: 30px;
    height: 22px;
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    z-index: 1001;
  }

  .hamburger-btn span {
    display: block;
    width: 100%;
    height: 3px;
    background: white;
    transition: all 0.3s ease;
    border-radius: 2px;
  }

  .hamburger-btn.active span:nth-child(1) {
    transform: rotate(45deg) translate(7px, 7px);
  }

  .hamburger-btn.active span:nth-child(2) {
    opacity: 0;
  }

  .hamburger-btn.active span:nth-child(3) {
    transform: rotate(-45deg) translate(7px, -7px);
  }

  /* ========== MOBILE OVERLAY ========== */
  .mobile-overlay {
    display: none; /* Hidden by default */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    z-index: 999;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .mobile-overlay.active {
    display: block;
    opacity: 1;
  }

  /* ========== MOBILE MENU SIDEBAR ========== */
  .mobile-menu {
    display: none; /* Hidden by default */
    position: fixed;
    top: 0;
    right: -100%; /* Start off-screen to the right */
    width: 280px;
    height: 100%;
    background: #008c5e;
    z-index: 1000;
    transition: right 0.3s ease;
    overflow-y: auto;
    box-shadow: -2px 0 10px rgba(0, 0, 0, 0.3);
  }

  .mobile-menu.active {
    display: block;
    right: 0; /* Slide in */
  }

  .mobile-menu-content {
    padding: 80px 20px 20px 20px;
    display: flex;
    flex-direction: column;
    gap: 5px;
  }

  /* ========== MOBILE MENU ITEMS ========== */
  .mobile-menu-item {
    display: block;
    color: white;
    text-decoration: none;
    padding: 15px 20px;
    font-size: 16px;
    font-weight: bold;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    transition: background 0.3s ease;
  }

  .mobile-menu-item:hover {
    background: rgba(255, 255, 255, 0.1);
  }

  .mobile-menu-item a {
    color: white;
    text-decoration: none;
  }

  /* ========== EXPANDABLE MENU ITEMS ========== */
  .mobile-menu-item.expandable {
    padding: 0;
  }

  .mobile-menu-btn {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: none;
    border: none;
    color: white;
    padding: 15px 20px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    text-align: left;
    transition: background 0.3s ease;
  }

  .mobile-menu-btn:hover {
    background: rgba(255, 255, 255, 0.1);
  }

  .mobile-menu-btn .arrow {
    transition: transform 0.3s ease;
    font-size: 12px;
  }

  .mobile-menu-btn .arrow.rotate {
    transform: rotate(180deg);
  }

  /* ========== MOBILE SUBMENU ========== */
  .mobile-submenu {
    max-height: 0;
    overflow: hidden;
    background: rgba(0, 0, 0, 0.15);
    transition: max-height 0.3s ease;
  }

  .mobile-submenu.active {
    max-height: 300px; /* Enough for submenu items */
  }

  .mobile-submenu a {
    display: block;
    color: rgba(255, 255, 255, 0.9);
    text-decoration: none;
    padding: 12px 20px 12px 40px;
    font-size: 14px;
    font-weight: 600;
    transition:
      background 0.3s ease,
      padding-left 0.3s ease;
  }

  .mobile-submenu a:hover {
    background: rgba(255, 255, 255, 0.1);
    padding-left: 45px;
  }

  /* ========== MOBILE SOCIAL ICONS ========== */
  .mobile-social {
    display: flex;
    justify-content: center;
    gap: 20px;
    padding: 30px 0;
    margin-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
  }

  .mobile-social a {
    color: white;
    transition: opacity 0.3s ease;
  }

  .mobile-social a:hover {
    opacity: 0.7;
  }

  /* ========== DESKTOP/MOBILE VISIBILITY ========== */
  .desktop-only {
    display: flex; /* Show on desktop */
  }

  .desktop-nav {
    display: flex; /* Show on desktop */
  }

  /* RESPONSIVE */
  @media (max-width: 900px) {
    .top {
      padding: 1px 30px;
    }

    .logo-lasser {
      height: 120px;
    }

    .logo-jallavet {
      height: 100px;
    }

    nav {
      gap: 25px;
      font-size: 16px;
    }

    .row {
      gap: 25px;
    }
  }

  @media (max-width: 768px) {
    .top {
      padding: 1px 20px;
    }

    .logos {
      gap: 10px;
    }

    .logo-lasser {
      height: 80px;
    }

    .logo-jallavet {
      height: 65px;
    }

    nav {
      gap: 15px;
      font-size: 14px;
      flex-wrap: wrap;
      padding-bottom: 15px;
    }

    .social {
      gap: 10px;
    }

    .social svg {
      width: 22px;
      height: 22px;
    }
  }

  /* MOBILE MENU BREAKPOINT */
  @media (max-width: 490px) {
    /* Hide desktop navigation and social */
    .desktop-nav {
      display: none !important;
    }

    .desktop-only {
      display: none !important;
    }

    /* Show hamburger button */
    .hamburger-btn {
      display: flex !important;
    }

    /* Adjust header layout for mobile */
    .top {
      padding: 10px 15px;
      justify-content: space-between;
    }

    .logos {
      gap: 8px;
      justify-content: flex-start; /* Align logos to left */
    }

    .logo-lasser {
      height: 50px;
    }

    .logo-jallavet {
      height: 40px;
    }

    .dropdown-menu {
      min-width: 120px;
      font-size: 12px;
    }
  }
</style>
